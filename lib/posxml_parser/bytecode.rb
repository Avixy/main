
module PosxmlParser
  module Bytecode
    INSTRUCTIONS = {
      # Already implemented in pure ruby
      "I"    => :flow_if,
      ","    => :flow_else,
      "E"    => :flow_end_if,
      "j"    => :flow_execute,
      "l"    => :flow_function,
      "g"    => :flow_function_call,
      "r"    => :flow_function_end,
      "V"    => :flow_while,
      "Z"    => :flow_while_break,
      "v"    => :flow_while_end,
      "1"    => :util_exit,
      ">"    => :string_variable,
      "m"    => :integer_variable,
      "4"    => :file_download,
      "\x19" => :file_size,
      "x"    => :file_delete,
      "\x8A" => :file_rename,
      "A"    => :file_edit_db,
      "B"    => :file_read_db,
      "\x15" => :network_send,
      "\x16" => :network_receive,
      "e"    => :network_host_disconnect,
      "S"    => :network_pre_connect,
      "n"    => :datetime_get,
      "T"    => :util_math,
      "0"    => :string_to_hex,
      "?"    => :string_hex_to_string,
      "t"    => :string_join,
      "\x1D" => :binary_convert_to_integer,
      "\x01" => :integer_convert_to_binary,
      "b"    => :integer_to_string,
      "G"    => :integer_operator,
      "@"    => :string_length,
      "\x0F" => :string_string_substring,
      "a"    => :string_to_integer,
      "\x09" => :string_char_at,
      "\x13" => :string_element_at,
      "\x10" => :string_elements,
      "\x0C" => :string_find,
      "K"    => :string_get_value_by_key,
      "\x0B" => :string_trim,
      "\x11" => :string_insert_at,
      "\x89" => :string_pad,
      "\x14" => :string_remove_at,
      "\x0E" => :string_replace,
      "\x12" => :string_replace_at,
      "<"    => :string_substring,
      # Not implemented in pure ruby
      "k"    => :card_get_variable,
      "c"    => :card_get,
      "&"    => :card_read,
      "\x91" => :card_system_input_transaction,
      "L"    => :interface_menu,
      "\x81" => :interface_menu_header,
      "d"    => :interface_display,
      "8"    => :interface_display_bitmap,
      "H"    => :interface_clean_display,
      "\x87" => :interface_system_get_touchscreen,
      "p"    => :print,
      "P"    => :print_big,
      "X"    => :print_barcode,
      "9"    => :print_bitmap,
      "N"    => :print_check_paper_out,
      "h"    => :print_paper_feed,
      "s"    => :input_float,
      "i"    => :input_integer,
      "o"    => :input_option,
      "y"    => :input_money,
      "f"    => :input_format,
      "\x82" => :input_getvalue,
      "{"    => :crypto_encryptdecrypt,
      "}"    => :crypto_lrc,
      "^"    => :crypto_xor,
      "_"    => :crypto_crc,
      "\x1B" => :file_list,
      "\x1A" => :file_system_space,
      "\x83" => :file_open,
      "\x84" => :file_close,
      "\x85" => :file_read,
      "\x86" => :file_write,
      "%"    => :file_read_by_index,
      "\\"   => :file_unzip,
      "\x02" => :iso8583_init_field_table,
      "\x03" => :iso8583_init_message,
      "\x05" => :iso8583_analyze_message,
      "\x06" => :iso8583_end_message,
      "\x07" => :iso8583_put_field,
      "\x08" => :iso8583_get_field,
      "\x3B" => :iso8583_transact_message,
      "\x95" => :iso8583_transact_message_sub_field,
      "Y"    => :serial_open_port,
      "w"    => :serial_read_port,
      "W"    => :serial_write_port,
      "!"    => :serial_close_port,
      "J"    => :datetime_adjust,
      "\x90" => :datetime_calculate,
      "#"    => :network_pre_dial,
      "D"    => :network_shutdown_modem,
      "$"    => :network_check_gprs_signal,
      "O"    => :network_ping,
      "\x1C" => :pinpad_open,
      "("    => :pinpad_display,
      ")"    => :pinpad_getkey,
      "*"    => :pinpad_getpindukpt,
      "+"    => :pinpad_loadipek,
      "~"    => :pinpad_close,
      "\x2D" => :emv_open,
      "\x22" => :emv_close,
      "\x5D" => :emv_loadtables,
      "\x1E" => :emv_settimeout,
      "\x1F" => :emv_cleanstructures,
      "\x88" => :emv_adddata,
      "\x35" => :emv_getinfo,
      "\x20" => :emv_inittransaction,
      "\x3A" => :emv_processtransaction,
      "\x5B" => :emv_finishtransaction,
      "\x71" => :emv_removecard,
      "|"    => :smartcard_insert_card,
      "2"    => :smartcard_reader_close,
      "="    => :smartcard_reader_start,
      "."    => :smartcard_transmit_APDU,
      "Q"    => :util_system_beep,
      "\x27" => :util_system_checkbattery,
      "`"    => :util_system_info,
      "\x17" => :util_system_restart,
      "\x94" => :util_system_qrcode,
      "u"    => :util_wait_key,
      "U"    => :util_wait_key_timeout,
      "C"    => :util_wait,
      "/"    => :util_read_key,
      "\x80" => :util_parse_ticket
    }
  end
end

